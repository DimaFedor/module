{"version":3,"sources":["../electron/preload.ts"],"sourcesContent":["import { contextBridge, ipcRenderer } from 'electron';\n\ntype EvidenceStatus = 'draft' | 'submitted' | 'approved';\n\ninterface EvidenceListRequest {\n  search?: string;\n  status?: EvidenceStatus | 'all';\n  category?: string | 'all';\n  sortBy?: 'created_at' | 'status';\n  sortDir?: 'asc' | 'desc';\n  page?: number;\n  pageSize?: number;\n  includeHistory?: boolean;\n}\n\ninterface EvidenceRow {\n  id: string;\n  title: string;\n  description: string | null;\n  category: string;\n  status: EvidenceStatus;\n  file_path: string;\n  version_group_id: string;\n  version_number: number;\n  created_at: string;\n  updated_at: string;\n}\n\ninterface EvidenceCreatePayload {\n  title: string;\n  description?: string;\n  category: string;\n  status: EvidenceStatus;\n  file_path: string;\n  tags: string[];\n}\n\ninterface EvidenceUpdatePayload {\n  title: string;\n  description?: string;\n  category: string;\n  status: EvidenceStatus;\n  file_path?: string | null;\n  tags: string[];\n}\n\ninterface EvidenceListResponse {\n  items: EvidenceRow[];\n  total: number;\n}\n\ninterface ExportFilters {\n  status?: EvidenceStatus | 'all';\n  category?: string | 'all';\n}\n\ninterface AuditLogRow {\n  id: string;\n  action_type: string;\n  entity_id: string;\n  entity_type: string;\n  actor: string;\n  timestamp: string;\n}\n\nexport interface ElectronApi {\n  openEvidenceFile(): Promise<string | null>;\n  evidenceList(req: EvidenceListRequest): Promise<EvidenceListResponse>;\n  evidenceGet(id: string): Promise<(EvidenceRow & { tags: string[] }) | null>;\n  evidenceCreate(payload: EvidenceCreatePayload): Promise<EvidenceRow>;\n  evidenceUpdate(id: string, payload: EvidenceUpdatePayload): Promise<EvidenceRow | null>;\n  evidenceDelete(id: string): Promise<boolean>;\n  evidenceUndoDelete(): Promise<EvidenceRow | null>;\n  auditLogList(): Promise<AuditLogRow[]>;\n  exportCreate(filters: ExportFilters): Promise<string | null>;\n  themeGetSystem(): Promise<'light' | 'dark'>;\n}\n\nconst api: ElectronApi = {\n  openEvidenceFile: () => ipcRenderer.invoke('evidence:openFile'),\n  evidenceList: (req) => ipcRenderer.invoke('evidence:list', req),\n  evidenceGet: (id) => ipcRenderer.invoke('evidence:get', id),\n  evidenceCreate: (payload) => ipcRenderer.invoke('evidence:create', payload),\n  evidenceUpdate: (id, payload) => ipcRenderer.invoke('evidence:update', id, payload),\n  evidenceDelete: (id) => ipcRenderer.invoke('evidence:delete', id),\n  evidenceUndoDelete: () => ipcRenderer.invoke('evidence:undoDelete'),\n  auditLogList: () => ipcRenderer.invoke('audit:list'),\n  exportCreate: (filters) => ipcRenderer.invoke('export:create', filters),\n  themeGetSystem: () => ipcRenderer.invoke('theme:get-system'),\n};\n\ncontextBridge.exposeInMainWorld('electronApi', api);\n"],"mappings":";;;;;;;;;;;;;;;;AAAA;AAAA;AAAA,sBAA2C;AA8E3C,IAAM,MAAmB;AAAA,EACvB,kBAAkB,MAAM,4BAAY,OAAO,mBAAmB;AAAA,EAC9D,cAAc,CAAC,QAAQ,4BAAY,OAAO,iBAAiB,GAAG;AAAA,EAC9D,aAAa,CAAC,OAAO,4BAAY,OAAO,gBAAgB,EAAE;AAAA,EAC1D,gBAAgB,CAAC,YAAY,4BAAY,OAAO,mBAAmB,OAAO;AAAA,EAC1E,gBAAgB,CAAC,IAAI,YAAY,4BAAY,OAAO,mBAAmB,IAAI,OAAO;AAAA,EAClF,gBAAgB,CAAC,OAAO,4BAAY,OAAO,mBAAmB,EAAE;AAAA,EAChE,oBAAoB,MAAM,4BAAY,OAAO,qBAAqB;AAAA,EAClE,cAAc,MAAM,4BAAY,OAAO,YAAY;AAAA,EACnD,cAAc,CAAC,YAAY,4BAAY,OAAO,iBAAiB,OAAO;AAAA,EACtE,gBAAgB,MAAM,4BAAY,OAAO,kBAAkB;AAC7D;AAEA,8BAAc,kBAAkB,eAAe,GAAG;","names":[]}